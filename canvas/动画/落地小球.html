<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
         canvas {
            border: 1px solid red;
        }
    </style>
    <script src="../util/ball.js"></script>
</head>
<body>
    <canvas id="canvas" width="800" height="600"></canvas>
    <script>
        const canvasEl = document.getElementById('canvas')
        const ctx = canvasEl.getContext('2d')
        let options = {
            w: canvasEl.width,
            h: canvasEl.height,
            x: canvasEl.width / 2,
            y: 20,
            radius: 20,
            fillStyle: 'blue',
            strokeStyle: 'blue',
        }
        const ball = new Ball(options);
        let speedDown = 0;
        let speedUp = -5;
        (function move(){
            window.requestAnimationFrame(move)
            // 清除画布
            ctx.clearRect(0, 0, options.w, options.h)
            ball.y += speedDown
            speedDown += 0.05
            // 判断小球下落到是否canvas底部
            if (ball.y + options.radius > options.h) {
                ball.y = options.h -options.radius
                speedDown = speedUp
                speedUp += 0.5
            }
            ball.render(ctx);
        })()
    </script>
</body>
</html>